<%= form_tag products_path, method: :get do %>
  <ul class="category">
    <% @categories.each do |category| %>
      <li>
        <%= check_box_tag "categories[]", category.id, params[:categories] ? params[:categories].include?(category.id.to_s) : false, remote: true %>
        <label class="text-dark"><%= category.title %></label>
      </li>
    <% end %>
  </ul>
  <%= hidden_field_tag :price, params[:price] if params[:price] %>
  <%= hidden_field_tag :created_at, params[:created_at] if params[:created_at] %>
  <div class="price">
    <p><b class="text-dark">Price:</b></p>
    <%= text_field_tag :min_price, nil, class: 'form-control', placeholder: 'Min', value: params[:min_price].present? ? params[:min_price] : @price_min %>
    <br>
    <%= text_field_tag :max_price, nil, class: 'form-control', placeholder: 'Max', value: params[:max_price].present? ? params[:max_price] : @price_max%>
    <hr>
    <%= submit_tag 'Find', class: 'btn btn-success' %>
  </div>
<% end %>